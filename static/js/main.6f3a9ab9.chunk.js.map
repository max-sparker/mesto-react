{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/App.js","index.js"],"names":["Header","className","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","src","link","alt","name","onClick","type","aria-label","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","about","map","currentDate","Date","Footer","getFullYear","ImagePopup","isOpen","onClose","onCloseOverlay","api","baseUrl","headers","this","_url","_headers","res","ok","json","Promise","reject","status","fetch","then","_onError","data","method","body","JSON","stringify","description","placename","placelink","id","PopupWithForm","title","children","onCloseByOverlay","onSubmit","buttonText","buttonLabel","isSaving","EditProfilePopup","onUpdateUser","useState","setName","setDescription","useEffect","evt","preventDefault","placeholder","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","nameRef","linkRef","ConfirmPopup","onConfirmDelete","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isPhotoPopupOpen","setIsPhotoPopupOpen","isConfitmPopupOpen","setIsConfirmPopupOpen","setCurrentUser","setCards","setIsSaving","selectedCard","setSelectedCard","closeAllPopups","handleCloseByOverlay","currentTarget","all","getUserInfo","getInitialCards","user","catch","err","console","error","handleCloseByEsc","key","document","addEventListener","removeEventListener","Provider","changeLikeCardStatus","newCard","newCards","c","setUserInfo","finally","updateUserAvatar","createCard","deleteCard","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6f3a9ab9.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction Header() {\r\n    return (\r\n      <header className=\"header\">\r\n        <div className=\"header__logo\" />\r\n      </header>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card ({card, onCardClick, onCardLike, onCardDelete}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `card__remove-btn ${isOwn ? 'card__remove-btn_visible' : null}`\r\n  );\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `card__like-btn ${isLiked ? 'card__like-btn_liked' : null}`\r\n  );\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return(\r\n    <article className=\"card\">\r\n      <img className=\"card__image\" src={card.link} alt={card.name} onClick={handleClick}/>\r\n      <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"Удалить\" onClick={handleCardDelete}/>\r\n      <div className=\"card__title\">\r\n        <h2 className=\"card__name\">{card.name}</h2>\r\n        <div className=\"card__like-container\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" aria-label=\"Мне нравится\" onClick={handleLikeClick} />\r\n          <p className=\"card__like-counter\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-container\">\r\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt={`Аватар пользователя ${currentUser.name}`} />\r\n          <button\r\n            className=\"profile__avatar-edit-btn\"\r\n            type=\"button\"\r\n            aria-label=\"Редактировать аватар\"\r\n            onClick={onEditAvatar}\r\n          />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__title\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button\r\n              className=\"profile__edit-btn\"\r\n              type=\"button\"\r\n              aria-label=\"Редактировать профиль\"\r\n              onClick={onEditProfile}\r\n            />\r\n          </div>\r\n          <p className=\"profile__description\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          className=\"profile__add-btn\"\r\n          type=\"button\"\r\n          aria-label=\"Добавить\"\r\n          onClick={onAddPlace}\r\n        />\r\n      </section>\r\n      <section className=\"places\">\r\n        {cards.map((card) =>\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              onCardClick={onCardClick}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n            />\r\n            )}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nconst currentDate = new Date();\r\n\r\nfunction Footer() {\r\n    return (\r\n      <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">&copy; {currentDate.getFullYear()} Mesto Russia</p>\r\n      </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\n\nfunction ImagePopup({card, isOpen, onClose, onCloseOverlay}) {\n  return (\n    <section className={`popup popup_type_image ${isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__overlay\" onClick={onCloseOverlay} />\n      <div className=\"popup__wrap\">\n        <button className=\"popup__close-btn\" type=\"button\" aria-label=\"Закрыть окно\" onClick={onClose} />\n        <figure className=\"popup__full\">\n          <img className=\"popup__image\" src={card.link} alt={`Фото: ${card.name}`} />\n          <figcaption className=\"popup__desc\">{card.name}</figcaption>\n        </figure>\n      </div>\n    </section>\n  )\n}\n\nexport default ImagePopup;\n","class Api {\n  constructor({baseUrl, headers}) {\n    this._url = baseUrl;\n    this._headers = headers;\n  }\n\n  _onError(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка запроса к серверу: ${res.status}`);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    })\n      .then(this._onError);\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.description\n      })\n    })\n      .then(this._onError);\n  }\n\n  updateUserAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    })\n      .then(this._onError);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    })\n      .then(this._onError);\n  }\n\n  createCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.placename,\n        link: data.placelink\n      })\n    })\n      .then(this._onError);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then(this._onError);\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked) {\n      return fetch(`${this._url}/cards/likes/${id}`, {\n        method: 'PUT',\n        headers: this._headers\n      })\n        .then(this._onError);\n    } else {\n      return fetch(`${this._url}/cards/likes/${id}`, {\n        method: 'DELETE',\n        headers: this._headers\n      })\n        .then(this._onError);\n    }\n  }\n\n}\n\nexport const api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16',\n  headers: {\n    'Content-Type': 'application/json',\n    'authorization': 'c211647d-a4c4-4f78-99de-8c8f862db42e'\n  }\n})\n","import React from 'react';\n\nfunction PopupWithForm({\n  name,\n  title,\n  children,\n  isOpen,\n  onClose,\n  onCloseByOverlay,\n  onSubmit,\n  buttonText,\n  buttonLabel,\n  isSaving\n}) {\n  return (\n    <section className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__overlay\" onClick={onCloseByOverlay} />\n      <div className=\"popup__container\">\n        <button className=\"popup__close-btn\" type=\"button\" aria-label=\"Закрыть окно\" onClick={onClose}/>\n        <h3 className=\"popup__title\">{title}</h3>\n        <form className=\"popup__form\" name={name} onSubmit={onSubmit}>\n          {children}\n          <button className=\"popup__btn\" type=\"submit\" aria-label={buttonLabel}>{isSaving ? 'Сохранение...' : buttonText}</button>\n        </form>\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({isOpen, onClose, onCloseOverlay, onUpdateUser, isSaving}) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({ name, description });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit-profile\"\n      title=\"Редактировать профиль\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onCloseByOverlay={onCloseOverlay}\n      onSubmit={handleSubmit}\n      buttonText=\"Сохранить\"\n      buttonLabel=\"Сохранить профиль\"\n      isSaving={isSaving}>\n      <input\n        className=\"popup__input popup__input_type_username\"\n        type=\"text\"\n        name=\"username\"\n        placeholder=\"Имя\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        value={name || ''}\n        onChange={handleNameChange}\n      />\n      <span className=\"popup__error\" id=\"username-input-error\" />\n      <input\n        className=\"popup__input popup__input_type_description\"\n        type=\"text\"\n        name=\"description\"\n        placeholder=\"О Себе\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n        value={description || ''}\n        onChange={handleDescriptionChange}\n      />\n      <span className=\"popup__error\" id=\"description-input-error\" />\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction EditAvatarPopup ({isOpen, onClose, onCloseOverlay, onUpdateAvatar, isSaving}) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const avatarRef = React.useRef();\n\n  React.useEffect(() => {\n    avatarRef.current.value = '';\n  }, [currentUser]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"update-avatar\"\n      title=\"Обновить аватар\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onCloseByOverlay={onCloseOverlay}\n      onSubmit={handleSubmit}\n      buttonText=\"Сохранить\"\n      buttonLabel=\"Обновить аватар\"\n      isSaving={isSaving}>\n      <input\n        className=\"popup__input popup__input_type_avatarlink\"\n        type=\"url\"\n        name=\"avatar\"\n        placeholder=\"Ссылка на изображение\"\n        required\n        ref={avatarRef}\n      />\n      <span className=\"popup__error\" id=\"avatar-input-error\" />\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup ({isOpen, onClose, onCloseOverlay, onAddPlace, isSaving}) {\n  const nameRef = React.useRef();\n  const linkRef = React.useRef();\n\n  React.useEffect(() => {\n    nameRef.current.value = '';\n    linkRef.current.value = '';\n  }, [isOpen]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAddPlace({\n      placename: nameRef.current.value,\n      placelink: linkRef.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"add-place\"\n      title=\"Новое место\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onCloseByOverlay={onCloseOverlay}\n      onSubmit={handleSubmit}\n      buttonText=\"Создать\"\n      buttonLabel=\"Добавить место\"\n      isSaving={isSaving}>\n      <input\n        className=\"popup__input popup__input_type_placename\"\n        type=\"text\"\n        name=\"placename\"\n        placeholder=\"Название\"\n        required\n        maxLength=\"30\"\n        ref={nameRef}\n      />\n      <span className=\"popup__error\" id=\"placename-input-error\" />\n      <input\n        className=\"popup__input popup__input_type_placelink\"\n        type=\"url\"\n        name=\"placelink\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        ref={linkRef}\n      />\n      <span className=\"popup__error\" id=\"placelink-input-error\" />\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction ConfirmPopup({ isOpen, onClose, onCloseOverlay, onConfirmDelete, isSaving }) {\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onConfirmDelete();\n  }\n\n  return (\n    <PopupWithForm\n      name=\"confirm-delete\"\n      title=\"Вы уверены?\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onCloseByOverlay={onCloseOverlay}\n      onSubmit={handleSubmit}\n      buttonText=\"Да\"\n      buttonLabel=\"Удаление карточки\"\n      isSaving={isSaving}>\n    </PopupWithForm>\n  );\n\n}\n\nexport default ConfirmPopup;\n","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport { api } from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmPopup from './ConfirmPopup';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isPhotoPopupOpen, setIsPhotoPopupOpen] = React.useState(false);\n  const [isConfitmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\n\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  const [isSaving, setIsSaving] = React.useState(false);\n\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([user, cards]) => {\n        setCurrentUser(user);\n        setCards(cards);\n      })\n      .catch((err) => {\n        console.error(err)\n      });\n  }, []);\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsPhotoPopupOpen(true);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  function handleCardDelete(card) {\n    setIsConfirmPopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  function handleCardDeleteConfirm() {\n    setIsSaving(true);\n    api.deleteCard(selectedCard._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== selectedCard._id);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.error(err);\n      })\n      .finally(() => {setIsSaving(false)});\n    closeAllPopups();\n  }\n\n  function handleUpdateUser(user) {\n    setIsSaving(true);\n    api.setUserInfo(user)\n      .then((user) => {\n        setCurrentUser(user);\n      })\n      .catch((err) => {\n        console.error(err);\n      })\n      .finally(() => setIsSaving(false));\n    closeAllPopups();\n  }\n\n  function handleUpdateAvatar(user) {\n    setIsSaving(true);\n    api.updateUserAvatar(user)\n      .then((user) => {\n        setCurrentUser(user);\n      })\n      .catch((err) => {\n        console.error(err);\n      })\n      .finally(() => setIsSaving(false));\n    closeAllPopups();\n  }\n\n  function handleAddPlace (newCard) {\n    setIsSaving(true);\n    api.createCard(newCard)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .catch((err) => {\n        console.error(err);\n      })\n      .finally(() => setIsSaving(false));\n    closeAllPopups();\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsPhotoPopupOpen(false);\n    setIsConfirmPopupOpen(false);\n  }\n\n  React.useEffect(() => {\n    function handleCloseByEsc (evt) {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n    document.addEventListener('keydown', handleCloseByEsc);\n    return () => {\n      document.removeEventListener('keydown', handleCloseByEsc);\n    }\n  }, []);\n\n  function handleCloseByOverlay(evt) {\n    if (evt.target === evt.currentTarget) {\n      closeAllPopups()\n    }\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n        />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onCloseOverlay={handleCloseByOverlay}\n          onUpdateUser={handleUpdateUser}\n          isSaving={isSaving}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          onCloseOverlay={handleCloseByOverlay}\n          isSaving={isSaving}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onCloseOverlay={handleCloseByOverlay}\n          onAddPlace={handleAddPlace}\n          isSaving={isSaving}\n        />\n        <ImagePopup\n          card={selectedCard}\n          isOpen={isPhotoPopupOpen}\n          onClose={closeAllPopups}\n          onCloseOverlay={handleCloseByOverlay}\n        />\n        <ConfirmPopup\n          isOpen={isConfitmPopupOpen}\n          onClose={closeAllPopups}\n          onCloseOverlay={handleCloseByOverlay}\n          onConfirmDelete={handleCardDeleteConfirm}\n        />\n        <Footer />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}